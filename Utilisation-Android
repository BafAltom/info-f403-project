Installation
---------------------------

Créer un dossier Android
Télécharger android SDk et NDK depuis le site de google
Les décompresser dans le dossier android



Configuration
---------------------------
Aller dans le répertoir "Android/android-sdk-linux/tools"
Lancer "./android" ce qui ouvre le SDK manager
Installer les packages nécessaires (android 4.2.2 et SDK tools)

Une fois cela fait
Aller dans "tools->Manage AVDs"
Créer un nouveau device virtuel
Il doit utiliser comme CPU : ARM(armeabi-v7a)
Pour cela soit choisir comme target : android puis comme CPU : ARM
Soit choisir comme target : Google API (qui met d'office un CPU arm)
(Le choix du type de device est libre)

(optionel) Modifier la variable d'environnement PATH pour accéder au programme de SDK plus facilement.
Depuis le dossier "Android/android-sdk-linux/tools taper : 
"echo "export PATH=\${PATH}:$(pwd)" >> ~/.bashrc"
"cd ../platform-tools"
"echo "export PATH=\${PATH}:$(pwd)" >> ~/.bashrc"
". ~/.bashrc"


Utilisation du compilateur
-----------------------------
Ecrire son code assembleur et le sauver dans un fichier .S
Le transformer en un exécutable pour android avec les deux commandes suivantes :
"arm-linux-androideabi-as -o foo.o foo.S"
"arm-linux-androideabi-ld -s -o foo foo.o"
(les bin sont dans le dossier "Android/android-ndk-r8d/toolchains/arm-linux-androideabi-4.7/prebuilt/linux-x86/bin")


Utilisation de l'émulateur
----------------------------
taper "android" dans un terminal.
Une fois l'application lancée, aller dans "tools->Manage AVDs" sélectionner le virtual device précédement créé et le lancer

Quand il est lancé :
(optionel) vérifier que le device est bien lancé avec la commande "adb device"

Copier l'exécutable sur l'émulateur avec la commande :
"adb push "path de l'exécutable sur la machine" /data/local/tmp/"nom de l'exécutable""    
(copie l'exécutable depuis le PC vers l'émulateur (dans son dossier "/data/local/tmp/",
ex : "adb push foo /data/local/tmp/foo")

Lancer l'exécutable avec la commande :
"adb shell /data/local/tmp/"nom de l'exécutable""

Le résultat devrait apparaitre dans le terminal

